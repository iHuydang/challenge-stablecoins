modules = ["web", "nodejs-22"]
[agent]
expertMode = true

[nix]
channel = "stable-25_05"

[workflows]
runButton = "Project"

[[workflows.workflow]]
name = "Project"
mode = "parallel"
author = "agent"

[[workflows.workflow.tasks]]
task = "workflow.run"
args = "hardhat-test-suite"

[[workflows.workflow.tasks]]
task = "workflow.run"
args = "vndt-deploy"

[[workflows.workflow]]
name = "hardhat-test-suite"
author = "agent"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace && yarn hardhat:test 2>&1 | head -100"

[workflows.workflow.metadata]
outputType = "console"

[[workflows.workflow]]
name = "vndt-deploy"
author = "agent"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd /home/runner/workspace && yarn hardhat:deploy --network sepolia --tags VNDT 2>&1"

[workflows.workflow.metadata]
outputType = "console"

[userenv]

[userenv.shared]
ETHERSCAN_V2_API_KEY = "T8S3UXCKT6B9KYEMXZFYP4JTSICCPX9XB5"
__RUNTIME_DEPLOYER_PRIVATE_KEY = "0xb1ab51d60ea19765af90cd5f794c12c72463b724"
